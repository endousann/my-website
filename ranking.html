<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å±•ç¤ºãƒ©ãƒ³ã‚­ãƒ³ã‚° - æ–‡åŒ–ç¥­ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³</title>
<link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
<style>
body { font-family:'DotGothic16', monospace; margin:0; padding:0; background:#f9f9f9; color:#333; }
header, footer { text-align:center; padding:1rem; background:#222; color:white; }
nav a { margin:0 0.5rem; color:white; text-decoration:none; }
main { padding:1rem; max-width:600px; margin:0 auto; }
.box { background:white; padding:1rem; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.2); margin-bottom:2rem; }
ol { padding-left:1.5rem; }
li { padding:10px; margin:6px 0; border-radius:6px; }
li.top1 { background-color: gold; color:black; }
li.top2 { background-color: silver; color:black; }
li.top3 { background-color: #cd7f32; color:white; }
select, button { width:100%; padding:10px; margin:8px 0; font-size:1rem; border-radius:6px; border:1px solid #ccc; box-sizing:border-box; }
button { background:#222; color:white; cursor:pointer; }
button:disabled { background:#222 !important; color:white !important; cursor:not-allowed; opacity:1 !important; }
select:disabled { background:white !important; color:#333 !important; opacity:1 !important; }
@media(max-width:768px){
  header h1, .box h2 { font-size:1.2rem; }
  li { font-size:0.95rem; padding:8px; }
  select, button { font-size:0.95rem; padding:10px; }
}
</style>
</head>
<body>
<header>
  <h1>ğŸ† å±•ç¤ºãƒ©ãƒ³ã‚­ãƒ³ã‚°</h1>
  <nav>
    <a href="index.html">ãƒ›ãƒ¼ãƒ </a>
    <a href="ranking.html">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</a>
    <a href="portfolio.html">åˆ¶ä½œè€…ç´¹ä»‹</a>
  </nav>
</header>

<main>
  <section class="box">
    <h2>ç¾åœ¨ã®æŠ•ç¥¨çµæœ</h2>
    <ol id="ranking-list"></ol>
  </section>

  <section class="box">
    <h3>æŠ•ç¥¨ã™ã‚‹å±•ç¤ºã‚’é¸ã‚“ã§ãã ã•ã„ï¼š</h3>
    <select id="vote-select">
      <option value="0">æ˜ åƒåˆ¶ä½œã€Œæ™‚ã®è¿·å®®ã€</option>
      <option value="1">ç¾è¡“éƒ¨ã€Œé—‡ã«å…‰ã‚‹çµµç”»å±•ã€</option>
      <option value="2">æƒ…å ±éƒ¨ã€ŒAIè¿·è·¯ã€</option>
      <option value="3">ã‚²ãƒ¼ãƒ ç ”ç©¶ä¼šã€Œãƒ‡ã‚¸ã‚¿ãƒ«ã‚¯ã‚¨ã‚¹ãƒˆã€</option>
    </select>
    <button id="vote-btn">æŠ•ç¥¨ã™ã‚‹</button>
  </section>
</main>

<footer>
  <p>Â© 2025 æ–‡åŒ–ç¥­ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³åˆ¶ä½œç­</p>
</footer>

<script>
const voteListEl = document.getElementById("ranking-list");
const voteBtn = document.getElementById("vote-btn");
const voteSelect = document.getElementById("vote-select");

// âœ… åˆæœŸãƒ‡ãƒ¼ã‚¿ï¼ˆ4ã¤ã®å±•ç¤ºï¼‰
const defaultVotes = [
  {name:'æ˜ åƒåˆ¶ä½œã€Œæ™‚ã®è¿·å®®ã€', count:0},
  {name:'ç¾è¡“éƒ¨ã€Œé—‡ã«å…‰ã‚‹çµµç”»å±•ã€', count:0},
  {name:'æƒ…å ±éƒ¨ã€ŒAIè¿·è·¯ã€', count:0},
  {name:'ã‚²ãƒ¼ãƒ ç ”ç©¶ä¼šã€Œãƒ‡ã‚¸ã‚¿ãƒ«ã‚¯ã‚¨ã‚¹ãƒˆã€', count:0}
];

let votes = JSON.parse(localStorage.getItem("votes")) || defaultVotes;
const hasVoted = localStorage.getItem("hasVoted") === "true";

function renderRanking(){
  votes.sort((a,b)=>b.count-a.count);
  voteListEl.innerHTML = '';
  votes.forEach((item,index)=>{
    const li = document.createElement('li');
    li.innerHTML = `${index+1}ä½ï¼š${item.name}ï¼š<span>${item.count}</span>ç¥¨`;
    if(index===0) li.classList.add('top1');
    else if(index===1) li.classList.add('top2');
    else if(index===2) li.classList.add('top3');
    voteListEl.appendChild(li);
  });
}
renderRanking();

if(hasVoted){
  voteBtn.disabled = true;
  voteBtn.textContent = "ã™ã§ã«æŠ•ç¥¨æ¸ˆã¿ã§ã™";
  voteSelect.disabled = true;
}

voteBtn.addEventListener("click", ()=>{
  const choiceIndex = parseInt(voteSelect.value);
  votes[choiceIndex].count++;
  localStorage.setItem("votes", JSON.stringify(votes));
  localStorage.setItem("hasVoted","true");
  renderRanking();
  alert("æŠ•ç¥¨ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ğŸ‰");
  voteBtn.disabled = true;
  voteBtn.textContent = "ã™ã§ã«æŠ•ç¥¨æ¸ˆã¿ã§ã™";
  voteSelect.disabled = true;
});
</script>
</body>
</html>
