<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å±•ç¤ºæŠ•ç¥¨ - æ–‡åŒ–ç¥­ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³</title>
<link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
<style>
* {
  box-sizing: border-box;
}

body {
  font-family:'DotGothic16', monospace;
  margin:0; padding:0;
  background:#111 url("https://i.imgur.com/XiYwRZ2.png") repeat;
  background-size:cover;
  color:#f5e6c8;
}

/* ğŸ° ãƒ˜ãƒƒãƒ€ãƒ¼ */
header {
  text-align:center;
  padding:1.5rem 1rem;
  background:#000;
  color:#ffcc66;
  box-shadow:0 2px 5px rgba(0,0,0,0.6);
}

header h1 {
  margin:0;
  font-size:1.8rem;
}

nav {
  margin-top:0.5rem;
}

nav a {
  margin:0 0.5rem;
  color:#ffcc66;
  text-decoration:none;
  font-size:1rem;
}
nav a:hover {
  text-decoration:underline;
}

/* ğŸ“¦ ãƒ¡ã‚¤ãƒ³ */
main {
  padding:1rem;
  max-width:600px;
  margin:0 auto;
}

/* ğŸ’¡ æŠ•ç¥¨ãƒœãƒƒã‚¯ã‚¹ */
.box {
  background:rgba(0,0,0,0.75);
  padding:1.5rem;
  border-radius:12px;
  box-shadow:0 0 15px rgba(255,200,80,0.25);
  margin-bottom:2rem;
  text-align:center;
}

.box h2 {
  font-size:1.4rem;
  margin-bottom:1rem;
  color:#ffcc66;
}

select, button {
  width:100%;
  padding:14px;
  margin:12px 0;
  font-size:1.1rem;
  border-radius:10px;
  border:1px solid #ffcc66;
  box-sizing:border-box;
  font-family:'DotGothic16', monospace;
  outline:none;
}

/* ğŸ§¾ ã‚»ãƒ¬ã‚¯ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
select {
  background:#222;
  color:#ffcc66;
  appearance:none;
}

/* ğŸŸ¡ ãƒœã‚¿ãƒ³ */
button {
  background:#ffcc66;
  color:#222;
  font-weight:bold;
  cursor:pointer;
  transition:transform 0.2s, box-shadow 0.2s;
}
button:hover {
  transform:translateY(-3px);
  box-shadow:0 0 12px #ffcc66;
}
button:disabled {
  opacity:0.5;
  cursor:not-allowed;
}

/* ğŸ’¬ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
#message {
  margin-top:1rem;
  color:#ffcc66;
  font-size:1rem;
  line-height:1.4;
}

/* âš™ï¸ ãƒ•ãƒƒã‚¿ãƒ¼ */
footer {
  background:#000;
  color:#ccc;
  font-size:0.9rem;
  text-align:center;
  padding:1.5rem 1rem;
  margin-top:2rem;
  border-top:1px solid #333;
}

/* ğŸ“± ã‚¹ãƒãƒ›æœ€é©åŒ– */
@media(max-width:768px){
  header h1 {
    font-size:1.4rem;
  }
  .box {
    padding:1.2rem;
  }
  .box h2 {
    font-size:1.2rem;
  }
  select, button {
    font-size:1rem;
    padding:12px;
  }
  nav a {
    display:inline-block;
    margin:0 0.3rem;
    font-size:0.9rem;
  }
  #message {
    font-size:0.95rem;
  }
}
</style>
</head>
<body>
<header>
  <h1>ğŸ† å±•ç¤ºæŠ•ç¥¨ãƒšãƒ¼ã‚¸</h1>
  <nav>
    <a href="index.html">ğŸ  ãƒ›ãƒ¼ãƒ </a>
    <a href="portfolio.html">ğŸ§‘â€ğŸ’» åˆ¶ä½œè€…ç´¹ä»‹</a>
  </nav>
</header>

<main>
  <section class="box">
    <h2>å¥½ããªå±•ç¤ºã‚’é¸ã‚“ã§æŠ•ç¥¨ï¼</h2>
    <select id="vote-select">
      <option value="">-- å±•ç¤ºã‚’é¸æŠ --</option>
      <option value="ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—">ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—</option>
      <option value="ONE BUTTON HERO">ONE BUTTON HERO</option>
      <option value="çˆ†å¼¾ï¼ã©ã‚“ã±ã£ã±">çˆ†å¼¾ï¼ã©ã‚“ã±ã£ã±</option>
      <option value="Avoid Dungeon">Avoid Dungeon</option>
    </select>
    <button id="vote-btn">æŠ•ç¥¨ã™ã‚‹</button>
    <p id="message"></p>
  </section>
</main>

<footer>
  <p>Â© 2025 æ–‡åŒ–ç¥­ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³åˆ¶ä½œç­</p>
</footer>

<script>
// ğŸ”— Google Apps Scriptï¼ˆã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆé€£æºURLï¼‰
const scriptURL = "https://script.google.com/macros/s/AKfycbw-zfDJpAd_a8LOc4G10EN44eQYoqOCqZYWTgRqhMEJGrnWpu4jNQmS4a2A9lulMyqPMg/exec";

const voteBtn = document.getElementById("vote-btn");
const voteSelect = document.getElementById("vote-select");
const message = document.getElementById("message");

// ğŸ§  æŠ•ç¥¨æ¸ˆã¿ãƒã‚§ãƒƒã‚¯
if (localStorage.getItem("hasVoted") === "true") {
  voteBtn.disabled = true;
  voteSelect.disabled = true;
  message.textContent = "ğŸ—³ï¸ ã‚ãªãŸã¯ã™ã§ã«æŠ•ç¥¨æ¸ˆã¿ã§ã™ï¼";
  setTimeout(() => { window.location.href = "index.html"; }, 2500);
}

// ğŸ¯ æŠ•ç¥¨ãƒœã‚¿ãƒ³æŠ¼ä¸‹æ™‚
voteBtn.addEventListener("click", async () => {
  const choice = voteSelect.value;
  if (!choice) {
    message.textContent = "âš ï¸ æŠ•ç¥¨å¯¾è±¡ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚";
    return;
  }

  message.textContent = "é€ä¿¡ä¸­...";

  try {
    await fetch(scriptURL, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: `vote=${encodeURIComponent(choice)}`
    });

    // âœ… æŠ•ç¥¨æ¸ˆã¿ã¨ã—ã¦ä¿å­˜
    localStorage.setItem("hasVoted", "true");

    message.textContent = `âœ… ã€Œ${choice}ã€ã«æŠ•ç¥¨ã—ã¾ã—ãŸï¼ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼`;
    voteBtn.disabled = true;
    voteSelect.disabled = true;

    // â³ è‡ªå‹•ã§ãƒˆãƒƒãƒ—ã«æˆ»ã™
    setTimeout(() => { window.location.href = "index.html"; }, 2000);
  } catch (error) {
    message.textContent = "âš ï¸ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚";
  }
});
</script>
</body>
</html>

